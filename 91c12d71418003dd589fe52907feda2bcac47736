- name: Install dependencies
  run: |
    python -m pip install --upgrade pip
    python -m pip install flake8 pytest
    if [ -f requirements.txt ]; then python -m pip install -r requirements.txt; fijobs:
  build:

    runs-on: ubuntu-latest
    strategy:
      fail-fast: false
      matrix:
        python-version: ["3.9", "3.10", "3.11"]runner.osrequirements.txt  - name: Set up Python
    uses: actions/setup-python@v4
    with:
      python-version: ${{ matrix.python-version }}

  - name: Cache pip
    uses: actions/cache@v4
    with:
      path: ~/.cache/pip
      key: ${{ runner.os }}-pip-${{ matrix.python-version }}-${{ hashFiles('**/requirements.txt') }}
      restore-keys: |
        ${{ runner.os }}-pip-${{ matrix.python-version }}-
        ${{ runner.os }}-pip-

  - name: Install dependencies
    run: |
      python -m pip install --upgrade pip
      if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

  - name: Run tests
    run: |
      if command -v pytest >/dev/null 2>&1; then pytest -q; else echo "pytest not installed"; fi
Notes
- I added Python 3.12 to the matrix. If you want to keep the original three versions, remove "3.12".
- If you use Poetry or pipenv, swap the Install dependencies step accordingly.
- If you want caching for virtualenvs, dependency-lock handling, or Windows/macOS runners, I can extend this.

Tell me which change you want (e.g., add 3.12, support Windows/macOS, use Poetry, run flake8/mypy, or keep only the matrix snippet).
